(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-product-list"],{"2b94":function(t,o,n){"use strict";var e={"uni-search-bar":n("29ef").default},i=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"t_se"},[n("uni-search-bar",{attrs:{radius:"100",placeholder:"请输入关键词",cancelButton:"none"},on:{confirm:function(o){arguments[0]=o=t.$handleEvent(o),t.search.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"time_str"},[t._v(t._s(t.countDownObject.countDownStr))]),n("v-uni-view",{staticClass:"t_main"},t._l(t.mainItem,(function(o,e){return n("v-uni-view",{key:e,staticClass:"t_item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.dumpInfo(o.id)}}},[0==o.start_auction?n("v-uni-view",{staticClass:"t-status t-status-a"},[t._v("待开始")]):1==o.purchase_state?n("v-uni-view",{staticClass:"t-status t-status-b"},[t._v("已售罄")]):2==o.purchase_state?n("v-uni-view",{staticClass:"t-status t-status-b"},[t._v("进行中")]):t._e(),n("v-uni-view",{staticClass:"t_img"},[n("v-uni-image",{attrs:{src:o.goods_imgs,mode:"aspectFill"}})],1),n("v-uni-view",{staticClass:"t_b"},[n("v-uni-view",{staticClass:"t_r_t"},[t._v(t._s(o.goods_name))]),n("v-uni-view",{staticClass:"t_r_price red"},[t._v("￥"+t._s(o.money))])],1)],1)})),1),t.showLoadMore?n("v-uni-view",{staticClass:"uni-loadmore"},[t._v(t._s(t.loadMoreText))]):t._e(),n("v-uni-view",{staticClass:"dbh"})],1)},a=[];n.d(o,"b",(function(){return i})),n.d(o,"c",(function(){return a})),n.d(o,"a",(function(){return e}))},"71b3":function(t,o,n){"use strict";n.r(o);var e=n("bdc7"),i=n.n(e);for(var a in e)"default"!==a&&function(t){n.d(o,t,(function(){return e[t]}))}(a);o["default"]=i.a},b87a:function(t,o,n){var e=n("f199");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=n("4f06").default;i("a025880c",e,!0,{sourceMap:!1,shadowMode:!1})},bdc7:function(t,o,n){"use strict";n("99af"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={data:function(){return{type:1,loadMoreText:"加载中...",showLoadMore:!1,isMore:!0,PageNo:1,PageSize:10,mainItem:[],keyWords:"",countDownObject:{countDownStr:"",count_down:0},timer:null}},onShow:function(){this.$store.commit("judgeLogin"),this.getStartTime()},onHide:function(){console.log("页面隐藏"),this.timer&&clearInterval(this.timer)},onLoad:function(t){t.type&&(this.type=t.type),this.initData()},onUnload:function(){console.log("页面卸载"),this.timer&&clearInterval(this.timer),this.PageNo=1,this.mainItem=[],this.loadMoreText="加载更多",this.showLoadMore=!1},onBackPress:function(t){},onReachBottom:function(){var t=this;this.showLoadMore=!0,setTimeout((function(){t.setListData()}),300)},onPullDownRefresh:function(){this.initData()},methods:{countdown:function(){var t=this;t.timer=setInterval((function(){if(t.countDownObject.count_down>0){t.countDownObject.count_down-=1;var o=t.countDownObject.count_down,n=Math.floor(o/86400),e=Math.floor(o/3600%24),i=Math.floor(o/60%60),a=Math.floor(o%60);n=n<10?"0"+n:n,e=e<10?"0"+e:e,i=i<10?"0"+i:i,a=a<10?"0"+a:a;var c="";c="00"==n?"待开始：".concat(e,"时").concat(i,"分").concat(a,"秒"):"待开始：".concat(n,"天").concat(e,"时").concat(i,"分").concat(a,"秒"),t.$set(t.countDownObject,"countDownStr",c)}else clearInterval(t.timer),-1==t.countDownObject.count_down?t.$set(t.countDownObject,"countDownStr","已开始"):-2==t.countDownObject.count_down&&t.$set(t.countDownObject,"countDownStr","已结束");console.log(t.countDownObject)}),1e3)},getStartTime:function(){var t=this;t.$request.product.getTime({class_id:t.type}).then((function(o){console.log(o.data),o.data.countDownStr="",t.countDownObject=o.data,t.countdown()}))},search:function(t){this.keyWords=t.value,this.initData()},dumpInfo:function(t){uni.navigateTo({url:"/pages/product/info?id="+t})},initData:function(){var t=this;setTimeout((function(){t.PageNo=1,t.mainItem=[],t.getPage(),uni.stopPullDownRefresh()}),300)},setListData:function(){this.PageNo+=1,this.isMore&&this.getPage()},getPage:function(){var t=this,o=this;uni.showLoading({title:"数据查询中"}),o.$request.product.getGoodsList({page:o.PageNo,class_id:o.type,keyWords:o.keyWords}).then((function(n){uni.hideLoading(),1==n.status?(o.mainItem=o.mainItem.concat(n.data),n.data.length<o.PageSize?(t.loadMoreText="没有更多数据了",o.isMore=!1):(o.showLoadMore=!1,o.isMore=!0)):(o.showLoadMore=!1,uni.showToast({icon:"none",title:n.msg}))})).catch((function(t){o.showLoadMore=!1,uni.hideLoading(),uni.showToast({icon:"none",title:"数据加载异常"})}))}}};o.default=e},c404:function(t,o,n){"use strict";n.r(o);var e=n("2b94"),i=n("71b3");for(var a in i)"default"!==a&&function(t){n.d(o,t,(function(){return i[t]}))}(a);n("f8f2");var c,s=n("f0c5"),r=Object(s["a"])(i["default"],e["b"],e["c"],!1,null,"959219cc",null,!1,e["a"],c);o["default"]=r.exports},f199:function(t,o,n){var e=n("24fb");o=e(!1),o.push([t.i,".t_se[data-v-959219cc]{width:%?690?%;margin:0 auto;margin-top:%?10?%}.t_main[data-v-959219cc]{width:%?690?%;margin:0 auto;border-top:1px solid #eee;margin-top:%?30?%;clear:both}.t_item[data-v-959219cc]{width:%?330?%;float:left;margin-top:%?20?%}.t_item[data-v-959219cc]:nth-child(even){float:right}.t_item .t_img[data-v-959219cc]{width:%?330?%;height:%?330?%}.t_item .t_img uni-image[data-v-959219cc]{width:%?330?%;height:%?330?%}.t_b[data-v-959219cc]{margin:%?15?% 0}.t_b .t_r_t[data-v-959219cc]{color:#303241;font-size:%?28?%;width:%?330?%;height:%?45?%;line-height:%?45?%;overflow:hidden}.t_b .t_r_i[data-v-959219cc]{color:#96979c;font-size:%?20?%;width:%?330?%;height:%?35?%;line-height:%?35?%;overflow:hidden}.t_b .t_r_price[data-v-959219cc]{font-size:%?28?%;width:%?330?%;height:%?45?%;line-height:%?45?%;overflow:hidden;font-weight:600}.uni-loadmore[data-v-959219cc]{clear:both}.t-status[data-v-959219cc]{position:absolute;z-index:100;width:%?120?%;text-align:center;height:%?50?%;line-height:%?50?%;border-radius:%?25?%;font-size:%?25?%;margin:%?20?% 0 0 %?200?%}.t-status-a[data-v-959219cc]{background-color:#e2ac35;color:#fff;font-weight:600}.t-status-b[data-v-959219cc]{background-color:#efefef;color:#000;font-weight:600}.time_str[data-v-959219cc]{text-align:center;font-size:%?32?%;font-weight:700;color:#e0664f!important}",""]),t.exports=o},f8f2:function(t,o,n){"use strict";var e=n("b87a"),i=n.n(e);i.a}}]);