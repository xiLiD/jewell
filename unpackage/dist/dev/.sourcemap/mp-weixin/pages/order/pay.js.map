{"version":3,"sources":["webpack:///D:/project/uni-app/jewell/main.js","webpack:///D:/project/uni-app/jewell/pages/order/pay.vue?66a6","webpack:///D:/project/uni-app/jewell/pages/order/pay.vue?338d","webpack:///D:/project/uni-app/jewell/pages/order/pay.vue?f146","webpack:///D:/project/uni-app/jewell/pages/order/pay.vue?4592","webpack:///D:/project/uni-app/jewell/pages/order/pay.vue","webpack:///D:/project/uni-app/jewell/pages/order/pay.vue?413e","webpack:///D:/project/uni-app/jewell/pages/order/pay.vue?15c6"],"names":["createPage","Page","sourceType","data","order_id","cardUrl","isSubmit","payTypeIndex","isPerfect","onShow","$store","commit","onLoad","option","orderId","methods","chooseImage","type","uni","sizeType","count","success","res","tempFilePaths","fail","err","previewImage","e","current","urls","checkPermission","code","sourceTypeIndex","permision","isIOS","requestIOS","requestAndroid","status","showModal","content","confirmText","confirm","gotoAppSetting","upload","_this","$tools","toast","loading","uploadFile","name","file","user","getStorageSync","uploadTask","url","config","API_SITE","filePath","formData","token","msg","loadingHide","JSON","parse","addPay","$request","order","setPayDocument","order_state","zfb_imgs","then","navigateTo","catch"],"mappings":"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","file":"pages/order/pay.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/order/pay.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./pay.vue?vue&type=template&id=7c7eaf76&scoped=true&\"\nvar renderjs\nimport script from \"./pay.vue?vue&type=script&lang=js&\"\nexport * from \"./pay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pay.vue?vue&type=style&index=0&id=7c7eaf76&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c7eaf76\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"project/uni-app/jewell/pages/order/pay.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=template&id=7c7eaf76&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport permision from '@/common/permission.js';\nimport config from '@/config/config';\nvar sourceType = [\n\t['camera'],\n\t['album'],\n\t['camera', 'album']\n]\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\torder_id: 0,\n\t\t\tcardUrl: '', //证件前\n\t\t\tisSubmit: false,\n\t\t\tpayTypeIndex: 0, //支付方式\n\t\t\tisPerfect: '' //是否完善信息\n\t\t};\n\t},\n\tonShow() {\n\t\tthis.$store.commit('judgeLogin'); //判断登录状态\n\t},\n\tonLoad(option) {\n\t\tif (option.orderId != '') this.order_id = option.orderId;\n\t},\n\tmethods: {\n\t\tchooseImage: async function(type) {\n\n\n\n\n\n\n\n\t\t\tuni.chooseImage({\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsizeType: ['compressed'],\n\t\t\t\tcount: 1,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.cardUrl = res.tempFilePaths[0];\n\t\t\t\t},\n\t\t\t\tfail: err => {\n\n\n\n\n\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tpreviewImage: function(e) {\n\t\t\tuni.previewImage({\n\t\t\t\tcurrent: e,\n\t\t\t\turls: [e]\n\t\t\t});\n\t\t},\n\t\tasync checkPermission(code) {\n\t\t\tlet type = code ? code - 1 : this.sourceTypeIndex;\n\t\t\tlet status = permision.isIOS ?\n\t\t\t\tawait permision.requestIOS('camera') :\n\t\t\t\tawait permision.requestAndroid(type === 0 ? 'android.permission.CAMERA' :\n\t\t\t\t\t'android.permission.READ_EXTERNAL_STORAGE');\n\n\t\t\tif (status === null || status === 1) {\n\t\t\t\tstatus = 1;\n\t\t\t} else {\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent: '没有开启权限',\n\t\t\t\t\tconfirmText: '设置',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tpermision.gotoAppSetting();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn status;\n\t\t},\n\t\tupload() {\n\t\t\t//上传\n\t\t\tvar _this = this;\n\t\t\tif (!_this.cardUrl) {\n\t\t\t\t//消息异常\n\t\t\t\t_this.$tools.toast('请选择收款凭证图片')\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t_this.isSubmit = true;\n\t\t\t_this.$tools.loading('上传中');\n\t\t\t_this.uploadFile('file', _this.cardUrl);\n\t\t},\n\t\tuploadFile(name, file) {\n\t\t\tvar _this = this;\n\t\t\t//文件上传\n\t\t\tvar user = uni.getStorageSync('uerInfo');\n\t\t\tconst uploadTask = uni.uploadFile({\n\t\t\t\turl: config.API_SITE + '/gzh/Pay/addYine',\n\t\t\t\tfilePath: file,\n\t\t\t\tname: name,\n\t\t\t\tformData: {\n\t\t\t\t\ttoken: user.token\n\t\t\t\t},\n\t\t\t\tsuccess: function(msg) {\n\t\t\t\t\t_this.$tools.loadingHide();\n\t\t\t\t\t_this.isSubmit = false;\n\t\t\t\t\tvar data = JSON.parse(msg.data);\n\t\t\t\t\tif (data.status == 1) {\n\t\t\t\t\t\t_this.addPay(data.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this.$tools.toast(data.msg)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: res => {\n\t\t\t\t\t_this.isSubmit = false;\n\t\t\t\t\t_this.$tools.toast('上传失败')\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\taddPay(url) {\n\t\t\tvar _this = this;\n\t\t\t_this.$request.order\n\t\t\t\t.setPayDocument({\n\t\t\t\t\torder_id: _this.order_id,\n\t\t\t\t\torder_state: 2,\n\t\t\t\t\tzfb_imgs: url\n\t\t\t\t})\n\t\t\t\t.then(data => {\n\t\t\t\t\t_this.$tools.loadingHide();\n\t\t\t\t\tif (data.status == 1) {\n\t\t\t\t\t\t_this.$tools.toast('确认成功')\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '/pages/order/info?orderId=' + _this.order_id\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this.$tools.toast(data.msg)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\t_this.$tools.loadingHide();\n\t\t\t\t\t//消息异常\n\t\t\t\t\t_this.$tools.toast('数据加载异常')\n\t\t\t\t});\n\t\t}\n\t}\n};\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&id=7c7eaf76&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pay.vue?vue&type=style&index=0&id=7c7eaf76&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1633360695348\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}